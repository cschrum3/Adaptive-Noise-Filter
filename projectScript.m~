%% Audio Device
info = audiodevinfo; % Struct that contains internal audio device info and ID
%% Init
Fs = 44100; %Sample Rate
timeStep = 0.001; %Window Time step
blockSize = round(Fs * timeStep); %Blocksize
SNR = 1;
%% Create music input using audiorecorder
[music,Fs] = audioread('po35.wav'); %temporary music file load
plot(music) %plot waveform
%% Create ambient noise input using audiorecorder
noiseRecorder = audiorecorder(44100,16,1,0); % Records Noise from Internal microphone
musicRecorder = audiorecorder(44100,16,1,2); % Records muisc from AudioInterface
%recordblocking(r2,10);
%recordblocking(r,10);
%ambientData = getaudiodata(r)';
%soundData = getaudiodata(r2)';
%plot(ambientData);
%% generate noise
Noise = NoiseGeneration(ambientData, SNR);
preNoise = Noise + ambientData;
%% Plot & Play
plot(preNoise);
soundsc(preNoise,Fs);
%soundsc(preNoise,44100);
%% Algorithm
coeff = fft(preNoise);
plot(coeff);
%% Weiner
[data,postNoise] = wiener2(preNoise,[1,44100]);
%% Desum

